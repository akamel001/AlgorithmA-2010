<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="primsSrc.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>primsSrc.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'primsSrc.js'<BR/><BR/>
	
</p>

<hr>


    <table border="1" cellpadding="3" cellspacing="0" width="100%">
    <tr bgcolor="#CCCCFF" class="TableHeadingColor">
    <td colspan=2><font size="+2">
    
        <b>Class Summary</b>
    
    </font></td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="Line.html">Line</a></b></td>
    <td>&nbsp;</td>
    </tr>
    
    </table>
    <hr/> 


<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!AddToTree">AddToTree</a></b>( nLineIndex )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!Backward">Backward</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!ChangeImage">ChangeImage</a></b>( nodeId )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!ChangeLine">ChangeLine</a></b>( nLineIndex, nRed, nGreen, nBlue, nStartingNode, nLineProgress )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!CreateLine">CreateLine</a></b>( nNode1Index, nNode2Index, nWeight )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!CreateNode">CreateNode</a></b>( nPosX, nPosY )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 The following functions create nodes and lines as well
	as drawing lines.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!CreateWeight">CreateWeight</a></b>( nNode1Index, nNode2Index, nWeight, nNewLineIndex )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!DrawLine">DrawLine</a></b>( nLineIndex, nRed, nGreen, nBlue, nStartingNode)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!FindLeastWeight">FindLeastWeight</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!HighlightLines">HighlightLines</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!Play">Play</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!PlayDemo">PlayDemo</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!PseudoHighlight">PseudoHighlight</a></b>( nPseudoId )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!Run">Run</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!RunAlgorithm">RunAlgorithm</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 The following functions calculate the tree that is to be
	built and add the information needed to oaAnimations so
	that the process can be animated.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!SelectHighlightedLines">SelectHighlightedLines</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!UnHighlightLines">UnHighlightLines</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/*********************************************************
*	Name:		Evan Plett
*	File:		primsSrc.js
*	Created:	March 9, 2010
*	Modified:	March 9, 2010
*				March 12, 2010
*					Evan Plett: Added forward, backward, and play capability.
*								Added dynamic div creation
*				March 13, 2010
*					Evan Plett: Added custom graph capability.
*
*				March 14, 2010
*					Evan Plett: Added pseudocode highlighting
*					
*	Dependency:	jsAnim.js, pbMan.js
*	Notes:		
*		This is the animation for Prims Minumum Spanning Tree
*	Changelog:
*
*	Functions:	
*		CreateNode( nId, nPosX, nPosy )					:	Creates a node, adds it to the array, and moves the div
*		CreateLine( nNode1Index, nNode2Index, nWeight )	:	Creates a Line and then draws it
*		PlayDemo()										:	Plays a demo of the algorithm
*		RunAlgorithm()									:	Runs Prims algorithm
*		DrawLine( nLineIndex )							:	Draws a Line
*		FindLeastWeight()								:	Find the highlighted line with the least weight and highlights it
*		AddToTree( nLineIndex )							:	Adds a Line to the tree and changes colors of Line and Nodes
*		HighlightLines									:	Highlights lines
*		UnHighlightLines()								:	Unhighlights all highlighted lines and determines if it should be ignored
*		clearHighlightedLines()							:	Clears the Highlighted Lines Array
*		SelectHighlightedLines()						:	Determines which lines should be highlighted
*		Forward()										:	Steps the animation forward
*		Backward()										:	Steps the animation backward
*		Play()											:	Plays the animation
*		Run()											:	Runs through the animation
*		ChangeImage( nodeId )							:	Changes the image of a node
*		PseudoHighlight( nPseudoId )					:	Highlights pseudo code
*		ActivateCustom()								:	Aactivates custom graph mode
*		CustomDone()									:	Reenables buttons when done creating graph
*		AddNode()										:	Allows the user to add a node
*		AddEdge()										:	Allows the user to add an edge
*		PlaceEdge( nodeId )								:	Places an edge between the two nodes the user clicked on
*		PlaceNode( event )								:	Places a node where the user clicked
*		GetMouseCoords( event )							:	Gets the coordinates of the mouse
*		ChangeLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode, nLineProgress )	
*														:	Changes the color of an existing line.  Is called by DrawLine.
*		CreateWeight( nNode1Index, nNode2Index, nWeight, nNewLineIndex )
*														:	Creates and places a div to display the weight of a line				
***********************************************************/</span>

<span class="comment">//These constants are used for determining the type of animation each animation in the array is.</span>
const ADD_TO_TREE = 0;
const HIGHLIGHT_LINES = 1;
const SELECT_LINE = 2;
const UNHIGHLIGHT_LINES = 3;

var bIsCalculated = false;
var bIsPlaying = false;

<span class="comment">//This array holds instructions for all of the animations</span>
var oaAnimations = new Array();
var nAnimationIterator = 0;

<span class="comment">//These are for the animations</span>
var manager = new jsAnimManager(10);
var playback = new pbManager();

<span class="comment">//These global variables hold all of the nodes and lines	</span>
var oaAllNodes = new Array();
var oaAllLines = new Array();

<span class="comment">//These variables hold the index numbers (relative to oaAllNodes and oaAllLines)</span>
<span class="comment">//of the nodes that are in the tree and the lines that are to be highlighted</span>
var naTreeNodes = new Array();
var naHighlightedLines = new Array();

<span class="comment">//These variables hold the mouse x and y locations.</span>
var nMousex;
var nMouseY;

<span class="comment">//These variables are used for custom graph creation</span>
var bIsWaitingForNode = false;
var bIsWaitingForEdge = false;
var bIsFirstNodeChosen = false;
var nFirstNode;
var bIsCustom = false;


<span class="comment">/*! 	THIS FUNCTION MUST BE INCLUDED
	
	This function initializes all buttons on the template to whatever you need.
	Each button is appended to the end of the inner html of the object. 

*/</span>
<span class="reserved">function</span> Initialize()
{
	<span class="comment">// Set initial values of input boxes. This is so that reloading the screen doesn't break it.</span>
	
	PlayDemo();
	setTimeout( <span class="literal">"RunAlgorithm()"</span>, 20 );
	
	<span class="comment">/* REQUIRED */</span>
	<span class="comment">// Sets up your Concept and How-To buttons.</span>
	document.getElementById(<span class="literal">"concept"</span>).onmouseover = <span class="reserved">function</span> () {
		Tip(<span class="literal">"In Computer Science, Prim's algorithm is an algorithm that finds a minimum spanning tree for a connected weighted undirected graph. This means, it finds a subset of the edges that forms a tree that includes every vertex, where the total weight of all the edges in the tree is minimized. Prim's algorithm is an example of a greedy algorithm."</span>,WIDTH, 400, FONTFACE, <span class="literal">'Verdana, sans-serif'</span>, FONTSIZE, <span class="literal">'12pt'</span>,FONTCOLOR, <span class="literal">'#000000'</span>,PADDING, 8, SHADOW, true, SHADOWCOLOR, <span class="literal">'#CCCCCC'</span>, FADEIN, 400, FADEOUT, 800,CENTERMOUSE, true, OFFSETX, 0 ,BGCOLOR, <span class="literal">'#FFFFCC'</span>);
	}
	document.getElementById(<span class="literal">"howto"</span>).onmouseover = <span class="reserved">function</span>() {
		Tip(<span class="literal">"&lt;strong&gt;Play/Pause&lt;/strong&gt; - Plays/Pauses the animation&lt;br /&gt;"</span> +
		<span class="literal">"&lt;br /&gt;&lt;strong&gt;Forward&lt;/strong&gt; - Steps the animation forward.&lt;br /&gt;"</span> +
		<span class="literal">"&lt;br /&gt;&lt;strong&gt;Back&lt;/strong&gt; - Steps the animation backward.&lt;br /&gt;"</span> +
		<span class="literal">"&lt;br /&gt;&lt;strong&gt;Reset&lt;/strong&gt; - Refreshes the page.&lt;br /&gt;"</span>
		<span class="comment">/*"&lt;br /&gt;&lt;strong&gt;Custom&lt;/strong&gt; - Enables creating a custom graph.&lt;br /&gt;" +
		"&lt;ul&gt;&lt;br /&gt;&lt;strong&gt;Add Node&lt;/strong&gt; - After clicking this button, a node can be added by clicking on the workarea.&lt;br /&gt;" +
		"&lt;br /&gt;&lt;strong&gt;Add Line&lt;/strong&gt; - After clicking this button, a line can be created by clicking on two seperate nodes.&lt;br /&gt;" +
		"&lt;br /&gt;&lt;strong&gt;Done&lt;/strong&gt; - Exits custom mode.&lt;br /&gt;&lt;/ul&gt;" +
		"&lt;br /&gt;&lt;strong&gt;Demo&lt;/strong&gt; - Creates a pre-built graph.&lt;br /&gt;" */</span>
		
		,WIDTH, 400, FONTFACE, <span class="literal">'Verdana, sans-serif'</span>, FONTSIZE, <span class="literal">'11pt'</span>,FONTCOLOR, <span class="literal">'#000000'</span>,PADDING, 8, SHADOW, true, SHADOWCOLOR, <span class="literal">'#CCCCCC'</span>, FADEIN, 400, FADEOUT, 800,CENTERMOUSE, true, OFFSETX, 0 ,BGCOLOR, <span class="literal">'#CEFFFF'</span>);
	}
}



<span class="comment">//These functions and classes create the graph</span>


Function.<span class="reserved">prototype</span>.method = <span class="reserved">function</span> ( name, func ) 
{
    <span class="reserved">this</span>.<span class="reserved">prototype</span>[name] = func;
    <span class="reserved">return</span> <span class="reserved">this</span>;
};


<span class="comment">/**********************************************************
*	Node
*	{
*		String sId
*		int nPosX
*		int nPosy
*		int nIndex
*		int bInTree
*		int naConnectedEdges
*		create(String NodeId, int PosX, int PosY, int Index)
*		int getId()
*		int getPosx()
*		int getPosy()
*		int getIndex()
*		int[] getConnectedEdges()
*		bool isInTree()
*		setPosx(int PosX)
*		setPosy(int PosY)
*		setInTree()
*		addConnectedEdge(int EdgeIndex)
*	}
**********************************************************/</span>

<span class="reserved">function</span> Node( sNodeId, nNodePosX, nNodePosY, nNodeIndex )
{
    <span class="reserved">this</span>.Create( sNodeId, nNodePosX, nNodePosY, nNodeIndex );
}

    Node.method( <span class="literal">'Create'</span>, <span class="reserved">function</span> ( sNodeId, nNodePosX, nNodePosY, nNodeIndex )
    {
        <span class="reserved">this</span>.sId = sNodeId;
		<span class="reserved">this</span>.nPosX = nNodePosX;
		<span class="reserved">this</span>.nPosY = nNodePosY;
		<span class="reserved">this</span>.nIndex = nNodeIndex;
		<span class="reserved">this</span>.bInTree = false;
		<span class="reserved">this</span>.naConnectedEdges = new Array();
    });

    Node.method( <span class="literal">'getId'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">return</span> <span class="reserved">this</span>.sId;	
    });
	
	
	Node.method( <span class="literal">'getPosX'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">return</span> <span class="reserved">this</span>.nPosX;	
    });
	
	Node.method( <span class="literal">'setPosX'</span>, <span class="reserved">function</span> (nNodePosX)
    {
        <span class="reserved">this</span>.nPosX = nNodePosX;	
    });
	
	Node.method( <span class="literal">'getPosY'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">return</span> <span class="reserved">this</span>.nPosY;	
    });
	
	Node.method( <span class="literal">'setPosY'</span>, <span class="reserved">function</span> (nNodePosY)
    {
        <span class="reserved">this</span>.nPosY = nNodePosY;	
    });
	
	Node.method( <span class="literal">'getIndex'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">return</span> <span class="reserved">this</span>.nIndex;	
    });
		
	Node.method( <span class="literal">'getConnectedEdges'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">return</span> <span class="reserved">this</span>.naConnectedEdges;	
    });
	
	Node.method( <span class="literal">'addConnectedEdge'</span>, <span class="reserved">function</span> (nEdgeIndex)
    {
        <span class="reserved">this</span>.naConnectedEdges.push(nEdgeIndex);	
    });
	
	Node.method( <span class="literal">'isInTree'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">return</span> <span class="reserved">this</span>.bInTree;	
        <span class="reserved">return</span> <span class="reserved">this</span>.bInTree;	
    });
	
	Node.method( <span class="literal">'setInTree'</span>, <span class="reserved">function</span> ()
    {
        <span class="reserved">this</span>.bInTree = true;	
    });


<span class="comment">/**********************************************************
*	Line
*	{
*		int nNode1Index	
*		int nNode2Index
*		bool bInTree
*		bool bIgnored
*		int nLineWeight
*		create()
*		int getNode1Index()
*		int getNode2Index()
*		int getWeight()
*		int getHistoryIndex()
*		bool isInTree()
*		bool isIgnored()
*		setInTree()
*		setIgnored()
*		setHistoryIndex( int )
*	}
**********************************************************/</span>
	
<span class="reserved">function</span> Line( nFirstNodeIndex, nSecondNodeIndex , nLineWeight, nHistroyIndex )
{
    <span class="reserved">this</span>.Create( nFirstNodeIndex, nSecondNodeIndex , nLineWeight, nHistroyIndex );
}

    Line.method( <span class="literal">'Create'</span>, <span class="reserved">function</span> ( nFirstNodeIndex, nSecondNodeIndex , nLineWeight, nHistoryIndex)
    {
		<span class="reserved">this</span>.nNode1Index = nFirstNodeIndex;
		<span class="reserved">this</span>.nNode2Index = nSecondNodeIndex;
		<span class="reserved">this</span>.bInTree = false;
		<span class="reserved">this</span>.bIgnored = false;
		<span class="reserved">this</span>.nWeight = nLineWeight;
		<span class="reserved">this</span>.nHistroyIndex = nHistoryIndex;
		<span class="reserved">this</span>.bIsLineDrawn = false;
    });
	
	Line.method( <span class="literal">'getNode1Index'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.nNode1Index;
    });
	
	Line.method( <span class="literal">'getNode2Index'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.nNode2Index;
    });
	
	Line.method( <span class="literal">'getWeight'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.nWeight;
    });
	
	Line.method( <span class="literal">'getHistoryIndex'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.nHistroyIndex;
    });
	
	Line.method( <span class="literal">'getIsLineDrawn'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.bIsLineDrawn;
    });

	Line.method( <span class="literal">'isInTree'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.bInTree;
    });
	
	Line.method( <span class="literal">'isIgnored'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">return</span> <span class="reserved">this</span>.bIgnored;
    });

	Line.method( <span class="literal">'setInTree'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">this</span>.bInTree = true;
    });
	
	Line.method( <span class="literal">'setIgnored'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">this</span>.bIgnored = true;
    });
	
	Line.method( <span class="literal">'setIsLineDrawn'</span>, <span class="reserved">function</span> ()
    {
		<span class="reserved">this</span>.bIsLineDrawn = true;
    });

	
<span class="comment">/**********************************************************
*	The following functions create nodes and lines as well
*	as drawing lines.
*
*	CreateNode( sId, nPosX, nPosY )
*		Description
*			This function creates a node object and links
*			it with a div with an img inside of it that are
*			in the "workarea". The div is used to control the 
*			location of the node, whereas the img controls the 
*			picture that is used to represent the node.
*		Parameters
*			sId: what the id of the node will be.
*			nPosX: the x coordinate.
*			nPosY: the y coordinate.
*	
*	CreateLine( nNode1Index, nNode2Index, nWeight )
*		Description
*			This function creates a line object and then
*			calls DrawLine() to draw the line and CreateWeight()
*			to display the weight
*		Parameters
*			nNode1Index: the index (relative to oaAllNodes) of one of
*						 the nodes that the line is connected to.
*			nNode2Index: the index (relative to oaAllNodes) of the 
*						 other node that the line is connected to.
*			nWeight: the weight of the line.
*
*	CreateWeight( nNode1Index, nNode2Index, nWeight, nNewLineIndex )
*		Description
*			This function creates a div and displays the weight of the
*			line in it.
*		Parameters
*			nNode1Index: the index (relative to oaAllNodes) of one of
*						 the nodes that the line is connected to.
*			nNode2Index: the index (relative to oaAllNodes) of the 
*						 other node that the line is connected to.
*			nWeight: the weight of the line.
*			nNewLineIndex: the index of the line that the weight is to
*						   be attached to.
*
*	DrawLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode)
*		Description
*			This function draws a line from the starting node index that 
*			was passed to it in the color that was passed to it
*		Parameters
*			nLineIndex: the index (relative to oaAllLines) of the line
*						that is to be drawn.
*			nRed, nGree, nBlue: the RGB color format of the color that
*								that the line is to be drawn in. Values	
*								can range from 0 to 255.
*			nStartingNode: the node that the line drawing should start from ( 1 or 2).
*
*	ChangeLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode, nLineProgress )
*		Description
*			This function changes the color of a line that has already been drawn
*		Parameters
*			nLineIndex: the index (relative to oaAllLines) of the line
*						that is to be drawn.
*			nRed, nGree, nBlue: the RGB color format of the color that
*								that the line is to be drawn in. Values	
*								can range from 0 to 255.
*			nStartingNode: the node that the line drawing should start from ( 1 or 2).
*			nLineProgress: a counter allowing this function to step through all
*						   of the divs that make up the line.
**********************************************************/</span>

<span class="reserved">function</span> CreateNode( nPosX, nPosY )
{
	var nArrayLength = oaAllNodes.length;
	
	var sNewNodeId = <span class="literal">"Node"</span> + nArrayLength;
	var sNodeImageId = <span class="literal">"imgNode"</span> + nArrayLength;
	oaAllNodes.push( new Node( sNewNodeId, nPosX, nPosY, nArrayLength ) );
	
	var oNewDiv = document.createElement( <span class="literal">"div"</span> );
	oNewDiv.setAttribute( <span class="literal">"id"</span>, sNewNodeId );
	oNewDiv.setAttribute( <span class="literal">"class"</span>, <span class="literal">"node"</span> );
	oNewDiv.setAttribute( <span class="literal">"onclick"</span>, <span class="literal">"PlaceEdge("</span> + nArrayLength + <span class="literal">")"</span> );
	oNewDiv.style.position = <span class="literal">"absolute"</span>;
	setPosition2( oNewDiv, (nPosX - 8), (nPosY - 8) );<span class="comment">//the -8s are to center the image.</span>
	oNewDiv.style.backgroundImage = <span class="literal">"url(/algo/images/algorithm/prims/node.png)"</span>;
	
	document.getElementById( <span class="literal">"workarea"</span> ).appendChild( oNewDiv );
}

<span class="reserved">function</span> CreateLine( nNode1Index, nNode2Index, nWeight )
{
	var nNewLineIndex = oaAllLines.length;
	oaAllLines.push( new Line( nNode1Index, nNode2Index, nWeight, lineIndex + 1 ) );<span class="comment">//lineIndex is from jsAnim</span>
	oaAllNodes[nNode1Index].addConnectedEdge( nNewLineIndex );
	oaAllNodes[nNode2Index].addConnectedEdge( nNewLineIndex );
	DrawLine( nNewLineIndex, 0, 0, 0, 1 );
	
	CreateWeight( nNode1Index, nNode2Index, nWeight, nNewLineIndex );
}

<span class="reserved">function</span> CreateWeight( nNode1Index, nNode2Index, nWeight, nNewLineIndex )
{
	var nDiffX = oaAllNodes[nNode1Index].getPosX() - oaAllNodes[nNode2Index].getPosX();
	var nDiffY = oaAllNodes[nNode1Index].getPosY() - oaAllNodes[nNode2Index].getPosY();
	
	var nAngle = Math.atan( nDiffX/nDiffY );
	var nTanAngle = Math.PI - (4/Math.PI) - nAngle;
	
	var nShiftX = Math.sin(nTanAngle) * 14;
	var nShiftY = Math.cos(nTanAngle) * 14 ;
	
	var sLineWeightId = <span class="literal">"lineWeight"</span> + nNewLineIndex;
	var oNewDiv = document.createElement( <span class="literal">"div"</span> );
	oNewDiv.setAttribute( <span class="literal">"id"</span>, sLineWeightId );
	oNewDiv.setAttribute( <span class="literal">"class"</span>, <span class="literal">"lineWeight"</span> );
	oNewDiv.style.position = <span class="literal">"absolute"</span>;
	oNewDiv.innerHTML = + nWeight;	
	var nX = ((oaAllNodes[nNode1Index].getPosX() + oaAllNodes[nNode2Index].getPosX()) / 2) + nShiftX - 9;
	var nY = ((oaAllNodes[nNode1Index].getPosY() + oaAllNodes[nNode2Index].getPosY()) / 2) - nShiftY - 9;		
	
	setPosition2( oNewDiv, nX, nY );
	document.getElementById( <span class="literal">"workarea"</span> ).appendChild( oNewDiv );
}

<span class="reserved">function</span> DrawLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode)
{	
	<span class="reserved">if</span> ( !oaAllLines[nLineIndex].getIsLineDrawn() )
		{
		var nNode1Index = oaAllLines[nLineIndex].getNode1Index();
		var nNode2Index = oaAllLines[nLineIndex].getNode2Index();	
		var anim = manager.createAnimObject( <span class="literal">"workarea"</span> );

		<span class="reserved">if</span> ( nStartingNode == 1 )
		{
			var nX1 = oaAllNodes[nNode1Index].getPosX();
			var nY1 = oaAllNodes[nNode1Index].getPosY();
			var nX2 = oaAllNodes[nNode2Index].getPosX();
			var nY2 = oaAllNodes[nNode2Index].getPosY();
		}
		<span class="reserved">else</span>
		{
			var nX1 = oaAllNodes[nNode2Index].getPosX();
			var nY1 = oaAllNodes[nNode2Index].getPosY();
			var nX2 = oaAllNodes[nNode1Index].getPosX();
			var nY2 = oaAllNodes[nNode1Index].getPosY();	
		}
		anim.add( {property: Prop.line, from: new Attrib(nX1,nY1,3,nRed,nGreen,nBlue), to: new Attrib(nX2,nY2,3,nRed,nGreen,nBlue), duration: 1000} );
		oaAllLines[nLineIndex].setIsLineDrawn();
	}
	<span class="reserved">else</span>
	{
		<span class="reserved">if</span> (nStartingNode == 1)
			ChangeLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode, 0 );
		<span class="reserved">else</span>
			ChangeLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode, lineHistory[oaAllLines[nLineIndex].getHistoryIndex()].length - 1 );
	}
}

<span class="reserved">function</span> ChangeLine( nLineIndex, nRed, nGreen, nBlue, nStartingNode, nLineProgress )
{
	<span class="reserved">if</span> (nStartingNode == 1)
	{
		<span class="reserved">if</span> ( nLineProgress == lineHistory[oaAllLines[nLineIndex].getHistoryIndex()].length - 1 )
			<span class="reserved">return</span>
		
		document.getElementById(lineHistory[oaAllLines[nLineIndex].getHistoryIndex()][nLineProgress]).style.backgroundColor = <span class="literal">"rgb("</span> + nRed + <span class="literal">", "</span> + nGreen +<span class="literal">", "</span> + nBlue + <span class="literal">")"</span>;
		nLineProgress++;
		setTimeout( <span class="literal">"ChangeLine( "</span> + nLineIndex + <span class="literal">", "</span> + nRed + <span class="literal">", "</span> + nGreen + <span class="literal">", "</span> + nBlue + <span class="literal">", "</span> + nStartingNode + <span class="literal">", "</span> + nLineProgress + <span class="literal">")"</span>, manager.timestep );
	}
	<span class="reserved">else</span>
	{
		<span class="reserved">if</span> ( nLineProgress &lt; 0 )
			<span class="reserved">return</span>
		
		document.getElementById(lineHistory[oaAllLines[nLineIndex].getHistoryIndex()][nLineProgress]).style.backgroundColor = <span class="literal">"rgb("</span> + nRed + <span class="literal">", "</span> + nGreen +<span class="literal">", "</span> + nBlue + <span class="literal">")"</span>;
		nLineProgress--;
		setTimeout( <span class="literal">"ChangeLine( "</span> + nLineIndex + <span class="literal">", "</span> + nRed + <span class="literal">", "</span> + nGreen + <span class="literal">", "</span> + nBlue + <span class="literal">", "</span> + nStartingNode + <span class="literal">", "</span> + nLineProgress + <span class="literal">")"</span>, manager.timestep );
	}
}
	

<span class="comment">/**********************************************************
*	The following functions calculate the tree that is to be
*	built and add the information needed to oaAnimations so
*	that the process can be animated.
*	
*	RunAlgorithm()
*		Description
*			This is the main function for using the algorithm
*			to create the tree.  It is run once at the begining
*			of the animation.
*	
*	SelectHighlightedLines()
*		Description
*			This function determines which lines need to be highlighted
*			to show that they are being considered for being added to the 
*			tree and then pushes them onto the naHighlightedLines array.
*	
*	HighlightLines()
*		Description
*			This function highlights the lines in naHighlightedLines and
*			makes sure that the starting position for the drawing of the
*			line is a node connected to the tree.
*	
*	FindLeastWeight()
*		Description
*			This function determines which of the lines in naHighlightedLnes
*			has the lightest weight, highlights the line to indicate such,
*			and returns the index of this line.
*		Return Value
*			nLightestLine: the index (relative to oaAllLines) of the line
*							with the lightest weight.	
*	
*	AddToTree( nLineIndex )
*		Description
*			This function adds a line, and the node that is not already
*			in the tree, to the tree and changes their colors to indicate
*			such.
*		Parameters
*			nLineIndex: the index (relative to oaAllLines) of the line
*						that is to be added to the tree.
*		
*	UnHighlightLines()
*		Description
*			This function unhighlights the lines in the naHighlightedLines
*			array and clears the array.  It also determins if any lines 
*			need to be ignored, and if they do, it marks them as such
*			and changes their color to indicate such.
**********************************************************/</span>

<span class="reserved">function</span> RunAlgorithm()
{
	<span class="reserved">if</span> ( bIsCalculated )
		<span class="reserved">return</span>;
	
	var nStartingVertex = Math.floor( Math.random() * oaAllNodes.length );
	naTreeNodes.push( nStartingVertex );
	
	oaAllNodes[nStartingVertex].setInTree();
	document.getElementById( oaAllNodes[nStartingVertex].getId() ).style.backgroundImage = <span class="literal">"url(/algo/images/algorithm/prims/nodeInTree.png)"</span>;
	<span class="reserved">while</span>( naTreeNodes.length &lt; oaAllNodes.length )
	{
		SelectHighlightedLines();
		HighlightLines();
		AddToTree( FindLeastWeight() );
		UnHighlightLines();
	}
	bIsCalculated = true;
}

<span class="reserved">function</span> SelectHighlightedLines()
{
	<span class="reserved">for</span> ( i = 0; i &lt; naTreeNodes.length; i++ )
	{
		<span class="reserved">for</span> ( j = 0; j &lt; oaAllNodes[naTreeNodes[i]].naConnectedEdges.length; j++ )
		{
			<span class="reserved">if</span> ( !oaAllLines[oaAllNodes[naTreeNodes[i]].naConnectedEdges[j]].isInTree() )  
			{
				<span class="reserved">if</span> ( !oaAllLines[oaAllNodes[naTreeNodes[i]].naConnectedEdges[j]].isIgnored() )
				{
					naHighlightedLines.push( oaAllNodes[naTreeNodes[i]].naConnectedEdges[j] );
				}
			}
		}
	}
}

<span class="reserved">function</span> HighlightLines()
{
	var naStartingNodes = new Array();
	
	<span class="reserved">for</span> ( i = 0; i &lt; naHighlightedLines.length; i++ )
	{
		<span class="reserved">if</span> ( oaAllNodes[oaAllLines[naHighlightedLines[i]].getNode2Index()].isInTree() )
			naStartingNodes.push( 2 );
		<span class="reserved">else</span>
			naStartingNodes.push( 1 );
	}
	oaAnimations.push( {type : HIGHLIGHT_LINES, lines : naHighlightedLines.toString(), nodes : naStartingNodes.toString()} );
}

<span class="reserved">function</span> FindLeastWeight()
{
	var nLightestLine = naHighlightedLines[0];
	var nStartingNode;
	
	<span class="reserved">for</span> ( i = 1; i &lt; naHighlightedLines.length; i++ )
	{
		<span class="reserved">if</span> ( oaAllLines[naHighlightedLines[i]].getWeight() &lt; oaAllLines[nLightestLine].getWeight() )
		{
			nLightestLine = naHighlightedLines[i];
		}
	}
	<span class="reserved">if</span> ( oaAllNodes[oaAllLines[nLightestLine].getNode2Index()].isInTree() )
		nStartingNode = 2;
	<span class="reserved">else</span>
		nStartingNode = 1;
	
	oaAnimations.push( {type : SELECT_LINE, line: nLightestLine, node : nStartingNode} );
	
	<span class="reserved">return</span> nLightestLine;
}

<span class="reserved">function</span> AddToTree( nLineIndex )
{
	var nAddedNode = 0;
	<span class="reserved">if</span> ( !oaAllNodes[oaAllLines[nLineIndex].getNode1Index()].isInTree() )
	{
		nAddedNode = 1;
		oaAllNodes[oaAllLines[nLineIndex].getNode1Index()].setInTree();
		naTreeNodes.push( oaAllLines[nLineIndex].getNode1Index() );
	}
	<span class="reserved">else</span>
	{
		nAddedNode = 2;
		oaAllNodes[oaAllLines[nLineIndex].getNode2Index()].setInTree();
		naTreeNodes.push( oaAllLines[nLineIndex].getNode2Index() );
	}
	
	oaAllLines[nLineIndex].setInTree();
	
	oaAnimations.push( {type: ADD_TO_TREE, line: nLineIndex, node : nAddedNode} );
}

<span class="reserved">function</span> UnHighlightLines()
{
	var naLineNums = new Array();
	var naLineIgnored = new Array();
	var naStartingNodes = new Array();
	
	<span class="reserved">for</span> ( i = 0; i &lt; naHighlightedLines.length; i++ )
	{
		<span class="reserved">if</span> ( !oaAllLines[naHighlightedLines[i]].isInTree() )
		{
			<span class="reserved">if</span> ( oaAllNodes[oaAllLines[naHighlightedLines[i]].getNode1Index()].isInTree() &amp;&amp; 
				 oaAllNodes[oaAllLines[naHighlightedLines[i]].getNode2Index()].isInTree() )
			{ <span class="comment">//Line is Ignored</span>
				oaAllLines[naHighlightedLines[i]].setIgnored();
				
				naLineNums.push( naHighlightedLines[i] );
				naLineIgnored.push( 255 );
				
				naStartingNodes.push( 1 );
			}
			<span class="reserved">else</span>
			{	<span class="comment">//Line is not ignored</span>
				<span class="reserved">if</span> ( oaAllNodes[oaAllLines[naHighlightedLines[i]].getNode2Index()].isInTree() )
					naStartingNodes.push( 2 );
				<span class="reserved">else</span>
					naStartingNodes.push( 1 );
					
				naLineNums.push( naHighlightedLines[i] );
				naLineIgnored.push( 0 );
			}
		}
	}
	oaAnimations.push( {type : UNHIGHLIGHT_LINES, lines : naLineNums.toString(), ignoreds : naLineIgnored.toString(), nodes : naStartingNodes.toString()} );
	
	<span class="reserved">while</span> ( naHighlightedLines.length != 0 )
		naHighlightedLines.pop();
	}

<span class="comment">/**********************************************************
*	The following functions play the animation as well as 
*	allowing it to be stepped forward and backwards.
*	
*	Forward()
*		Description
*			This function animates the animation currently
*			pointed to by the animation iterator and then
*			increases said iterator.
*	
*	Backward()
*		Description
*			This function decreases the animation iterator
*			and then reverse animates the animation pointed
*			to by the animation iterator.
*	
*	ChangeImage( nodeId )
*		Description
*			this function changes the image of a node.  If 
*			it currently the default node image, it changes 
*			it to the image use to indicate that it is in the
*			tree, and vice versa.
*		Parameters
*			nodeId: this is the element id of the node that
*					the image is to be changed for.
*	
*	PseudoHighlight( nPseudoId )
*		Description
*			Highlights the pseudocode lines.
*		Parameters
*			nPseudoId: the number of the psueocode line to be highlightd
*
*	PlayDemo()
*		Description
*			This function builds a preset graph.  This graph 
*			is based on the one found on Wikipedia
*	
*	Play()
*		Description
*			This function acts as the play pause button.  It 
*			enables and disables buttons as well as setting
*			the state of the animation.
*	
*	Run()
*		Description
*			This function is used to run through the animation.
**********************************************************/</span>	

<span class="comment">/**********************************************************
*	For the animations stored in oaAnimations, these are 
*	the parameters that should be passed based on the type.
*
*	type : ADD_TO_TREE
*	line : the index (relative to oaAllLines) of the line to be 
*		   added to the tree .
*	node : the node (relative to the line; 1 or 2) that is to be 
*			added to the tree with the node.
*
*	type : HIGHLIGHT_LINES
*	lines : a comma delimited string of the indices (relative to
*			oaAllLines) of the lines to be highlighted.  This 
*			string can be obtained by using the toString() function
*			of an array containing the elements.
*	nodes : a comma delimited string of the numbers (1 or 2) 
*			of the nodes that are to be the starting point of 
*			the highlighting. This string can be obtained by 
*			using the toString() function of an array containing 
*			the elements.
*
*	type : SELECT_LINE
*	line : the index (relative to oaAllLines) to be selected
*	node : the starting node (1 or 2) to be the starting point
*		   of drawing the selection color
*
*	type : UNHIGHLIGHT_LINES
*	lines : a comma delimited string of the indices (relative to
*			oaAllLines) of the lines to be unhighlighted.  This 
*			string can be obtained by using the toString() function
*			of an array containing the elements.
*	ignoreds : a comma delimited string of the indices (relative to
*			oaAllLines) of the lines to be ignored.  This 
*			string can be obtained by using the toString() function
*			of an array containing the elements.
*	nodes : a comma delimited string of the numbers (1 or 2) 
*			of the nodes that are to be the starting point of 
*			the unhighlighting. This string can be obtained by 
*			using the toString() function of an array containing 
*			the elements.
**********************************************************/</span>	
<span class="reserved">function</span> Forward()
{
	<span class="comment">/*
	This code is not needed because the graph is loaded on
	page load.  If custom is reimplemented, then this code will
	need to be re-included.  Note, for some reason the demo is buggy
	if ( nAnimationIterator == 0 )
		PseudoHighlight( 1 );
	if ( !bIsCalculated )
	{
		if ( !bIsCustom )
			PlayDemo();
		setTimeout( "RunAlgorithm()", 20 );
		return;
	}*/</span>
	<span class="reserved">if</span> ( nAnimationIterator == oaAnimations.length )
	{
		PseudoHighlight( 5 );
		document.getElementById( <span class="literal">"forward"</span> ).disabled = true;
		document.getElementById( <span class="literal">"play"</span> ).disabled = true;
		bIsPlaying = false;
		<span class="reserved">return</span>;
	}
	document.getElementById( <span class="literal">"back"</span> ).disabled = false;
	
	var oCurrentAnim = oaAnimations[nAnimationIterator];
	switch ( oCurrentAnim.type )
	{
		case ADD_TO_TREE:
			PseudoHighlight( 4 );
			var nStartingNode = 0;
			var sAddedNodeId;
			<span class="reserved">if</span> ( oCurrentAnim.node == 1 )
			{
				sAddedNodeId = oaAllNodes[oaAllLines[oCurrentAnim.line].getNode1Index()].getId();
				nStartingNode = 2;
			}
			<span class="reserved">else</span>
			{
				sAddedNodeId = oaAllNodes[oaAllLines[oCurrentAnim.line].getNode2Index()].getId();
				nStartingNode = 1;
			}
			
			DrawLine( oCurrentAnim.line, 34, 139, 34, nStartingNode );
			setTimeout( <span class="literal">"ChangeImage(\'"</span> +sAddedNodeId+ <span class="literal">"\')"</span>,1000 );			
			break;
		case HIGHLIGHT_LINES:
			PseudoHighlight( 2 );
			var saCharLines = oCurrentAnim.lines.split( <span class="literal">","</span> );
			var naLineNumbers = new Array();
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naLineNumbers.push( parseInt( saCharLines[i] ) );

			var saCharNodes = oCurrentAnim.nodes.split(<span class="literal">","</span>);
			var naNodeNumbers = new Array();
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naNodeNumbers.push( parseInt( saCharNodes[i] ));
			
			<span class="reserved">for</span> ( i = 0; i &lt; naLineNumbers.length; i++ )
				DrawLine( naLineNumbers[i], 0, 0, 205, naNodeNumbers[i] );
			break;
		case SELECT_LINE:
			PseudoHighlight( 3 );
			DrawLine( oCurrentAnim.line , 0, 191, 255 , oCurrentAnim.node );
			break;
		case UNHIGHLIGHT_LINES:
			PseudoHighlight( 0 );
			var saCharLines = oCurrentAnim.lines.split( <span class="literal">","</span> );
			var naLineNumbers = new Array();
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naLineNumbers.push( parseInt( saCharLines[i] ) );
		
			var saCharLineIgnored = oCurrentAnim.ignoreds.split( <span class="literal">","</span> );
			var naLineIgnored = new Array();
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naLineIgnored.push( parseInt( saCharLineIgnored[i] ) );
		
			var saCharNode = oCurrentAnim.nodes.split( <span class="literal">","</span> );
			var naStartingNodes = new Array();
			<span class="reserved">for</span> ( i = 0; i &lt; saCharNode.length; i++ )
				naStartingNodes.push( parseInt( saCharNode[i] ) );
				
			<span class="reserved">for</span> ( i = 0; i &lt; naLineNumbers.length; i++ )
			{
				DrawLine( naLineNumbers[i], naLineIgnored[i], 0, 0, naStartingNodes[i] );
			}
			break;	
	}
	
	nAnimationIterator = nAnimationIterator + 1;
}

<span class="reserved">function</span> Backward()
{
	<span class="reserved">if</span> ( !bIsCalculated || (nAnimationIterator == 0) )
	{
		document.getElementById( <span class="literal">"back"</span> ).disabled = true;
		<span class="reserved">return</span>;
	}
	
	<span class="reserved">if</span> ( nAnimationIterator == 1 )
	{
		document.getElementById( <span class="literal">"back"</span> ).disabled = true;
		PseudoHighlight( 1 );
	}
	document.getElementById( <span class="literal">"play"</span> ).disabled = false;
	document.getElementById( <span class="literal">"forward"</span> ).disabled = false;

	nAnimationIterator = nAnimationIterator - 1;
	var oCurrentAnim = oaAnimations[nAnimationIterator];
	switch ( oCurrentAnim.type )
	{
		case ADD_TO_TREE:
			PseudoHighlight( 3 );
			var nStartingNode = 0;
			var sAddedNodeId;
			<span class="reserved">if</span> ( oCurrentAnim.node == 1 )
			{
				sAddedNodeId = oaAllNodes[oaAllLines[oCurrentAnim.line].getNode1Index()].getId();
				nStartingNode = 1;
			}
			<span class="reserved">else</span>
			{
				sAddedNodeId = oaAllNodes[oaAllLines[oCurrentAnim.line].getNode2Index()].getId();
				nStartingNode = 2;
			}
			
			DrawLine( oCurrentAnim.line, 0, 191, 255, nStartingNode );
			ChangeImage( sAddedNodeId );
			break;
		case HIGHLIGHT_LINES:
			PseudoHighlight( 0 );
			var saCharLines = oCurrentAnim.lines.split( <span class="literal">","</span> );
			var naLineNumbers = new Array();
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naLineNumbers.push( parseInt( saCharLines[i] ) );
			
			var saCharNodes = oCurrentAnim.nodes.split( <span class="literal">","</span> );
			var naNodeNumbers = new Array();
			
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naNodeNumbers.push( parseInt( saCharNodes[i] ) );
			
			<span class="reserved">for</span> ( i = 0; i &lt; naNodeNumbers.length; i++ )
			{
				<span class="reserved">if</span> ( naNodeNumbers[i] == 1 )
					naNodeNumbers[i] = 2;
				<span class="reserved">else</span>
					naNodeNumbers[i] = 1;				
			}
			
			<span class="reserved">for</span> ( i = 0; i &lt; naLineNumbers.length; i++ )
				DrawLine( naLineNumbers[i], 0, 0, 0, naNodeNumbers[i] );
			break;
		case SELECT_LINE:
			PseudoHighlight( 2 );
			var nStartingNode;
			<span class="reserved">if</span> ( oCurrentAnim.node == 1 )
				nStartingNode = 2;
			<span class="reserved">else</span>
				nStartingNode = 1;		
				
			DrawLine( oCurrentAnim.line , 0, 0, 205 , nStartingNode );
			break;
		case UNHIGHLIGHT_LINES:
			PseudoHighlight( 4 );
			var saCharLines = oCurrentAnim.lines.split( <span class="literal">","</span> );
			var naLineNumbers = new Array();
			
			<span class="reserved">for</span> ( i = 0; i &lt; saCharLines.length; i++ )
				naLineNumbers.push( parseInt( saCharLines[i] ) );
		
			var saCharNode = oCurrentAnim.nodes.split( <span class="literal">","</span> );
			var naStartingNodes = new Array();
			
			<span class="reserved">for</span> ( i = 0; i &lt; saCharNode.length; i++ )
				naStartingNodes.push( parseInt( saCharNode[i] ) );
			
			<span class="reserved">for</span> ( i = 0; i &lt; naStartingNodes.length; i++ )
			{
				<span class="reserved">if</span> ( naStartingNodes[i] == 1 )
					naStartingNodes[i] = 2;
				<span class="reserved">else</span>
					naStartingNodes[i] = 1;
			}
		
			<span class="reserved">for</span> ( i = 0; i &lt; naLineNumbers.length; i++ )
			{
				DrawLine( naLineNumbers[i], 0, 0, 205, naStartingNodes[i] );
			}
			break;	
	}
}

<span class="reserved">function</span> ChangeImage( nodeId )
{
	<span class="reserved">if</span> ( document.getElementById( nodeId ).style.backgroundImage.match( <span class="literal">"nodeInTree"</span> ) )
		document.getElementById( nodeId ).style.backgroundImage = <span class="literal">"url(/algo/images/algorithm/prims/node.png)"</span>;
	<span class="reserved">else</span>
		document.getElementById( nodeId ).style.backgroundImage = <span class="literal">"url(/algo/images/algorithm/prims/nodeInTree.png)"</span>;
}

<span class="reserved">function</span> PseudoHighlight( nPseudoId )
{	
	<span class="reserved">for</span> ( i = 1; i &lt; 6; i++ )
	{		
		<span class="reserved">if</span> ( document.getElementById( <span class="literal">"pseudo"</span> + i ).style.backgroundColor == <span class="literal">"rgb(255, 255, 0)"</span> )
		{
		var anim1 = manager.createAnimObject( <span class="literal">"pseudo"</span> + i );  
		anim1.add( {property: Prop.backgroundColor, from: new Col(255,255,0), to: new Col(255,255,255), duration:250} );
		}
	}
	
	<span class="reserved">if</span> ( nPseudoId != 0)
	{	
		var anim = manager.createAnimObject( <span class="literal">"pseudo"</span> + nPseudoId );  
		anim.add( {property: Prop.backgroundColor, from: new Col(255,255,255), to: new Col(255,255,0), duration:250} );
	}
}

<span class="reserved">function</span> PlayDemo()
{	
	PseudoHighlight( 1 );
	CreateNode( 40, 70 );
	CreateNode( 200, 100 );
	CreateNode( 500, 60 );
	CreateNode( 425, 220 );
	CreateNode( 130, 250 );
	CreateNode( 290, 325 );
	CreateNode( 500, 375 );
	CreateLine( 0, 1, 7 );
	CreateLine( 0, 4, 5 );
	CreateLine( 4, 5, 6 );
	CreateLine( 5, 6, 11 );
	CreateLine( 1, 2, 8 );
	CreateLine( 2, 3, 5 );
	CreateLine( 3, 6, 9 );
	CreateLine( 4, 3, 15 );
	CreateLine( 4, 1, 9 );
	CreateLine( 5, 3, 8 );
	CreateLine( 1, 3, 7 );
}

<span class="reserved">function</span> Play()
{
	<span class="reserved">if</span> ( !bIsPlaying )
	{
		document.getElementById( <span class="literal">"play"</span> ).innerHTML = <span class="literal">"Pause"</span>;
		bIsPlaying = true;
		Run();		
	}
	<span class="reserved">else</span>
	{
		document.getElementById( <span class="literal">"play"</span> ).innerHTML = <span class="literal">"Play"</span>;
		bIsPlaying = false;
	}
}

<span class="reserved">function</span> Run()
{
	<span class="reserved">if</span>( !bIsPlaying )
	{
		document.getElementById( <span class="literal">"play"</span> ).innerHTML = <span class="literal">"Play"</span>;
		<span class="reserved">return</span>;
	}
	
	Forward();
	setTimeout( <span class="literal">"Run()"</span>,2250 );
}

<span class="comment">/**********************************************************
*	The following functions are for allowing the user to create
*	a custom graph.  They are commented out because they are not
*	included in the final revision because it is not consistent
*	with the other graph animations
*
*	ActivateCustom()
*		Description
*			Changes button values and sets Custom flag to true
*
*	CustomDone()
*		Description
*			Changes button values so the user can play the animation
*
*	AddNode()
*		Description
*			Enables the ability to add a node to the graph
*
*	AddEdge()
*		Description
*			Enables the ability to add an edge to the graph
*
*	PlaceEdge( nodeId )
*		Description
*			Connects an edge to a node.  If this is the first node
*			to be clicked on, it's ID is saved.  If it is the second
*			node, then a line is created from this node to the first node
*		Parameters
*			nodeId: the id of the node that this line is to be connected to
*
*	PlaceNode( event )
*		Description
*			Places a node where the user clicked
*		Parameters
*			event: a value passed to GetMouseCoords
*
*	GetMouseCoords( event )
*		Description
*			Gets the coordinates of the mouse relative to the work area
*			and sets the values of the global variables
*		Parameters
*			event: used for getting mouse coordinates
**********************************************************/</span>	
<span class="comment">/*
function ActivateCustom()
{
	document.getElementById( "AddNode" ).disabled = false;
	document.getElementById( "AddEdge" ).disabled = false;
	document.getElementById( "Done" ).disabled = false;
	document.getElementById( "play" ).disabled = true;
	document.getElementById( "demo" ).disabled = true;
	document.getElementById( "forward" ).disabled = true;
	bIsCustom = true;
}

function CustomDone()
{
	document.getElementById( "play" ).disabled = false;
	document.getElementById( "forward" ).disabled = false;
	document.getElementById( "AddNode" ).disabled = true;
	document.getElementById( "AddEdge" ).disabled = true;
	document.getElementById( "Done" ).disabled = true;
}

function AddNode()
{
	bIsWaitingForNode = true;
	document.getElementById( "AddNode" ).disabled = true;
}

function AddEdge()
{
	bIsWaitingForEdge = true;
	document.getElementById( "AddEdge" ).disabled = true;
	document.getElementById( "AddNode" ).disabled = true;
}

function PlaceEdge( nodeId )
{
	if ( !bIsWaitingForEdge)
		return;

	if ( !bIsFirstNodeChosen )
	{
		document.getElementById( "AddNode" ).disabled = true;
	
		nFirstNode = nodeId;
		bIsFirstNodeChosen = true;
	}
	else
	{	
		var nX = oaAllNodes[nFirstNode].getPosX() - oaAllNodes[nodeId].getPosX();
		var nY = oaAllNodes[nFirstNode].getPosY() - oaAllNodes[nodeId].getPosY();
		var nLength = Math.floor( Math.sqrt( (nX * nX) + (nY * nY) ) / 10 );
		
		
		CreateLine( nFirstNode, nodeId, nLength );
		bIsWaitingForEdge = false;
		document.getElementById( "AddEdge" ).disabled = false;
		document.getElementById( "AddNode" ).disabled = false;
		bIsFirstNodeChosen = false;
	}
}

function PlaceNode( event )
{
	if ( !bIsWaitingForNode )
		return;

	document.getElementById( "AddNode" ).disabled = false;
		
	GetMouseCoords( event );
	
	CreateNode( nMouseX, nMouseY );
	
	bIsWaitingForNode = false;
}

function GetMouseCoords( event )
{
	nMouseX = event.clientX - document.getElementById( "workarea" ).offsetLeft;
	nMouseY = event.clientY - document.getElementById( "workarea" ).offsetTop;
}*/</span></pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Sat Mar 20 17:16:32 2010</div>
</body>
</html>
